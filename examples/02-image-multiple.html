<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Multiple Images - Examples - Money Frame</title>
  <script src="../dist/moneyframe.bundle.js"></script>
</head>

<body>
  <section class="title">
    <h1>Multiple Images</h1>
    <p>Multiple images in a page that receive new transactions. Frames share network resources.</p>
  </section>

  <form id="form1">
    <fieldset>
      <legend>Choose address and rate for image 1 and 2</legend>

      <div>
        <label for="address1">Address</label>
        <input id="address1" type="text" size="50"
               placeholder="bitcoincash:pp8skudq3x5hzw8ew7vzsw8tn4k8wxsqsv0lt0mf3g"
               value="bitcoincash:pp8skudq3x5hzw8ew7vzsw8tn4k8wxsqsv0lt0mf3g">
      </div>

      <div>
        <label for="rate1">Rate</label>
        <input id="rate1" type="range"
               max="1.0" min="0.00000001" step="0.00000001" value="0.00000001"
               oninput="document.getElementById('lrate1').innerHTML = parseFloat(this.value).toFixed(8);">
        <span id="lrate1">0.00000001</span> BCH/hour
      </div>

      <button id="button1" type="button" class="pure-button pure-button-primary"
              onclick="setup1();">Go</button>
    </fieldset>
  </form>

  <form id="form2">
    <fieldset>
      <legend>Choose address and rate for image 3</legend>

      <div>
        <label for="address2">Address</label>
        <input id="address2" type="text" size="50"
               placeholder="bitcoincash:pp8skudq3x5hzw8ew7vzsw8tn4k8wxsqsv0lt0mf3g"
               value="bitcoincash:pp8skudq3x5hzw8ew7vzsw8tn4k8wxsqsv0lt0mf3g">
      </div>

      <div>
        <label for="rate2">Rate</label>
        <input id="rate2" type="range"
               max="1.0" min="0.00000001" step="0.00000001" value="0.00000001"
               oninput="document.getElementById('lrate2').innerHTML = parseFloat(this.value).toFixed(8);">
        <span id="lrate2">0.00000001</span> BCH/hour
      </div>

      <button id="button2" type="button"
              onclick="setup2();">Go</button>
    </fieldset>
  </form>

  <table>
    <tr>
      <td>
        <img id="image1" src="resources/img/earth.jpg" width="300px">
      </td>
      <td>
        <img id="image2" src="resources/img/wind.jpg" width="300px">
      </td>
      <td>
        <img id="image3" src="resources/img/fire.jpg" width="300px">
      </td>
    </tr>
  </table>

  <script>
    function setup(num, f) {
      let formEl = document.getElementById('form' + num);
      let addressEl = document.getElementById('address' + num);
      let rateEl = document.getElementById('rate' + num)

      formEl.style.display = "none";

      let address = addressEl.value;
      let rate = parseFloat(rateEl.value);

      f(rate, address);
    }

    function setup1() {
      setup(1, function(rate, address) {
        window.mf1 = new MoneyFrame({ id: 'image1', rate: rate, address: address });
        window.mf2 = new MoneyFrame({ id: 'image2', rate: rate, address: address });
      });
    }

    function setup2() {
      setup(2, function(rate, address) {
        window.mf3 = new MoneyFrame({ id: 'image3', rate: rate, address: address });
      });
    }
  </script>
</body>
</html>
